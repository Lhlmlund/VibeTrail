#!/bin/bash

# Get current branch
branch=$(git rev-parse --abbrev-ref HEAD)

echo "üß† Updating GPT memory for branch: $branch"

# Run memory builder
python memory_builder.py --branch "$branch"

# Exit if the memory build fails
if [ $? -ne 0 ]; then
  echo "‚ùå Memory update failed. Commit aborted."
  exit 1
fi

echo "‚úÖ Memory updated successfully!"
